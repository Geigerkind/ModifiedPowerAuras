<Ui xmlns="http://www.blizzard.com/wow/ui/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.blizzard.com/wow/ui/
    ..\..\..\FrameXML\UI.xsd">
	
	---------------------------------------------LOCALIZATION AND INITIALIZATION---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	
	<Script file="Interface\AddOns\ModifiedPowerAuras\localization\enUS.lua" />
	<Script file="Interface\AddOns\ModifiedPowerAuras\ModifiedPowerAuras.lua" />
	
	---------------------------------------------ICON TEMPLATE---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	
	<Frame name="MPowa_IconTemplate" parent="UIParent" virtual="true">
		<Size>
			<AbsDimension x="64" y="64" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parent_Icon">
					<Size>
						<AbsDimension x="64" y="64" />
					</Size>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<FontString name="$parent_Timer" inherits="NumberFontNormal">
					<Size>
						<AbsDimension x="64" y="64" />
					</Size>
					<Anchors>
						<Anchor point="CENTER" />
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_Count" inherits="NumberFontNormalHuge">
					<Size>
						<AbsDimension x="64" y="64" />
					</Size>
					<Anchors>
						<Anchor point="BOTTOMRIGHT">
							<Offset>
								<AbsDimension x="18" y="-18" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnUpdate>
				MPowa_TextureFrame_OnUpdate(elapsed, this)
			</OnUpdate>
		</Scripts>
	</Frame>
	
	---------------------------------------------TEMPLATES AND GENERAL---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	
	<Button name="MPowa_MainFrameButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="100" y="32" />
		</Size>
		<Layers>
			<Layer>
				<FontString name="$parent_Text" inherits="GameFontNormalSmall">
					<Size>
						<AbsDimension x="100" y="32" />
					</Size>
					<Anchors>
						<Anchor point="CENTER">
							<Offset>
								<AbsDimension x="0" y="5" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<NormalTexture file="Interface\Buttons\UI-DialogBox-Button-Up"/>
		<PushedTexture file="Interface\Buttons\UI-DialogBox-Button-Down"/>
		<HighlightTexture file="Interface\Buttons\UI-DialogBox-Button-Highlight" alphaMode="ADD"/>
	</Button>
	<Button name="MPowa_ContainerBuffButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="36" y="36" />
		</Size>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parent_Icon">
					<Size>
						<AbsDimension x="36" y="36" />
					</Size>
				</Texture>
				<FontString name="$parent_Count" inherits="NumberFontNormal">
					<Size>
						<AbsDimension x="36" y="36" />
					</Size>
					<Anchors>
						<Anchor point="CENTER" />
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="OVERLAY">
				<Texture name="$parent_Border" file="Interface\BUTTONS\UI-Debuff-Border.tga">
					<Size>
						<AbsDimension x="36" y="36" />
					</Size>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnClick>
				MPowa_SelectAura(this)
			</OnClick>
		</Scripts>
	</Button>
	<Button name="MPowa_CloseButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="30" y="30"/>
		</Size>
		<Anchors>
			<Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
				<Offset>
					<AbsDimension x="-8" y="-8"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Scripts>
			<OnEnter>
				GameTooltip:SetOwner(this, "ANCHOR_RIGHT")
				GameTooltip:SetText(MPOWA_BUTTON_CLOSE, nil, nil, nil, nil, 1)
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
		<NormalTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Up"/>
		<PushedTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Down"/>
		<HighlightTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Highlight" alphaMode="ADD"/>
	</Button>
	<Frame name="MPowa_ContainerTemplate" virtual="true">
		<Anchors>
			<Anchor point="TOP" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="4" right="4" top="4" bottom="4" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="12" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="12" />
			</EdgeSize>
			<Color r="0" g="0" b="0" a="1" />
		</Backdrop>
	</Frame>
	<Slider name="MPowa_SliderTemplate" inherits="OptionsSliderTemplate" virtual="true">
		<Size>
			<AbsDimension x="120" y="16" />
		</Size>
		<Scripts>
			<OnEnter>
				if (this.aide) then
					GameTooltip:SetOwner(this, "ANCHOR_RIGHT")
					GameTooltip:SetText(this.aide, nil, nil, nil, nil, 1)
				end
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Slider>
	<CheckButton name="MPowa_CheckTemplate" inherits="OptionsCheckButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="25" y="25" />
		</Size>
		<HitRectInsets>
			<AbsInset left="0" right="0" top="0" bottom="0"/>
		</HitRectInsets>
	</CheckButton>
	<CheckButton name="MPowaTernarySelectorTemplate" inherits="MPowa_CheckTemplate" virtual="true">
		<Scripts>
			<OnClick>
				MPowa_Ternary_OnClick(this, this.var)
			</OnClick>
		</Scripts>
	</CheckButton>
	<Button name="MPowa_ScrollFrameButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="265" y="40" />
		</Size>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parent_BG">
					<Size>
						<AbsDimension x="255" y="32" />
					</Size>
					<Anchors>
						<Anchor point="TOPRIGHT" />
					</Anchors>
					<Color r="0" g="0" b="0" a="0.5" />
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<Texture name="$parent_Icon" file="Interface\AddOns\ModifiedPowerAuras\images\dummy">
					<Size>
						<AbsDimension x="32" y="32" />
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT" />
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_Name" inherits="GameFontNormal" justifyH="LEFT">
					<Size>
						<AbsDimension x="228" y="32" />
					</Size>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent_Icon" relativePoint="RIGHT">
							<Offset>
								<AbsDimension x="5" y="0" /> 
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnClick>
				MPOWA_PROFILE_SELECTED = this.line
				for i=1,7 do
					getglobal("MPowa_ProfileFrame_ScrollFrame_Button"..i.."_BG"):SetAlpha(1)
				end
				getglobal(this:GetName().."_BG"):SetAlpha(0.5)
			</OnClick>
		</Scripts>
	</Button>
	
	---------------------------------------------MINIMAP BUTTON---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	
	---------------------------------------------MAINFRAME---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	
	<Frame name="MPowa_MainFrame" movable="true" parent="UIParent" frameStrata="HIGH" hidden="true" enableMouse="true" enableKeyboard="true">
		<Size>
			<AbsDimension x="321" y="430" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" relativeTo="UIParent" />
        </Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
        </Backdrop>
		<Layers>
			<Layer>
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="225" y="32" />
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="8" />
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0.2" right="0.8" top="0" bottom="0.6" />
				</Texture>	
				<FontString name="$parent_HEAD" inherits="GameFontNormalSmall">
					<Size>
						<AbsDimension x="225" y="0" />
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-3" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnMouseDown>
				this:StartMoving()
			</OnMouseDown>
			<OnMouseUp>
				this:StopMovingOrSizing()
			</OnMouseUp>
			<OnEvent>
				MPowa_OnEvent(event)
			</OnEvent>
			<OnLoad>
				this:RegisterEvent("ADDON_LOADED")
				this:RegisterEvent("PLAYER_AURAS_CHANGED")
				this:RegisterEvent("PLAYER_ENTERING_WORLD")
				this:RegisterEvent("PLAYER_TARGET_CHANGED")
				this:RegisterEvent("UNIT_AURA")
				MPowa_OnLoad()
				this:SetClampedToScreen(true)
				getglobal(this:GetName().."_HEAD"):SetText(MPOWA_MAINFRAME_HEAD.." "..MPOWA_VERSION)
			</OnLoad>
		</Scripts>
		<Frames>
			<Button name="MPowa_CloseButton" inherits="MPowa_CloseButtonTemplate">
				<Scripts>
					<OnClick>
						MPowa_MainFrame:Hide()
						PlaySound("igMainMenuOptionCheckBoxOff")
					</OnClick>
				</Scripts>
			</Button>
			<Button name="MPowa_AddButton" inherits="MPowa_MainFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent">
						<Offset>
							<AbsDimension x="40" y="-35" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						MPowa_AddAura()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."_Text"):SetText(MPOWA_BUTTON_ADD)
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="MPowa_EditButton" inherits="MPowa_MainFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOP" relativeTo="MPowa_AddButton" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						MPowa_Edit()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."_Text"):SetText(MPOWA_BUTTON_EDIT)
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="MPowa_RemoveButton" inherits="MPowa_MainFrameButtonTemplate">
				<Anchors>
					<Anchor point="LEFT" relativeTo="MPowa_AddButton" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="45" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						MPowa_Remove()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."_Text"):SetText(MPOWA_BUTTON_REMOVE)
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="MPowa_ProfileButton" inherits="MPowa_MainFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOP" relativeTo="MPowa_RemoveButton" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						getglobal(this:GetName().."_Text"):SetText(MPOWA_BUTTON_PROFILE)
					</OnLoad>
					<OnClick>
						MPowa_EditProfile()
					</OnClick>
				</Scripts>
			</Button>
			<Button name="MPowa_TestAllButton" inherits="MPowa_MainFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOP" relativeTo="MPowa_ProfileButton" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						MPowa_TestAll()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."_Text"):SetText(MPOWA_BUTTON_TESTALL)
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="MPowa_TestButton" inherits="MPowa_MainFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOP" relativeTo="MPowa_EditButton" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						MPowa_Test()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."_Text"):SetText(MPOWA_BUTTON_TEST)
					</OnLoad>
				</Scripts>
			</Button>
			<Frame name="MPowa_ButtonContainer">
				<Size>
					<AbsDimension x="300" y="300" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativeTo="$parent">
						<Offset>
							<AbsDimension x="-10" y="5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer>
						<Texture file="Interface\AddOns\ModifiedPowerAuras\images\ButtonContainer.tga">
							<Size>
								<AbsDimension x="300" y="300" />
							</Size>
							<Anchors>
								<Anchor point="CENTER" />
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
		</Frames>
	</Frame>
	
	---------------------------------------------CONFIGURATION FRAME---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	
	<Frame name="MPowa_ConfigFrame" movable="true" parent="MPowa_MainFrame" frameStrata="HIGH" hidden="true" enableMouse="true" enableKeyboard="true">
		<Size>
			<AbsDimension x="321" y="430" />
		</Size>
		<Anchors>
			<Anchor point="RIGHT" relativeTo="MPowa_MainFrame" relativePoint="LEFT" />
        </Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
        </Backdrop>
		<Layers>
			<Layer>
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="225" y="32" />
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="8" />
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0.2" right="0.8" top="0" bottom="0.6" />
				</Texture>	
				<FontString name="$parent_HEAD" inherits="GameFontNormalSmall">
					<Size>
						<AbsDimension x="225" y="0" />
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-3" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				getglobal(this:GetName().."_HEAD"):SetText(MPOWA_CONFIGFRAME_NAME)
			</OnLoad>
			<OnKeyDown>
				if IsShiftKeyDown() and IsAltKeyDown() then
					getglobal("MPowa_ConfigFrame_Container_1_Slider_PosX"):SetValueStep(0.1)
				elseif IsShiftKeyDown() then
					getglobal("MPowa_ConfigFrame_Container_1_Slider_Opacity"):SetValueStep(0.01)
					getglobal("MPowa_ConfigFrame_Container_1_Slider_PosX"):SetValueStep(1)
				end
			</OnKeyDown>
			<OnKeyUp>
				getglobal("MPowa_ConfigFrame_Container_1_Slider_Opacity"):SetValueStep(0.1)
				getglobal("MPowa_ConfigFrame_Container_1_Slider_PosX"):SetValueStep(5)
			</OnKeyUp>
		</Scripts>
		<Frames>
			<Button name="$parent_CloseButton" inherits="MPowa_CloseButtonTemplate">
				<Scripts>
					<OnClick>
						MPowa_ConfigFrame:Hide()
						PlaySound("igMainMenuOptionCheckBoxOff")
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="$parent_Container">
				<Size>
					<AbsDimension x="290" y="350" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="15" />
						</Offset>
					</Anchor>
				</Anchors>
				<Frames>
					<Frame name="$parent_1" inherits="MPowa_ContainerTemplate">
						<Size>
							<AbsDimension x="290" y="170" />
						</Size>
						<Frames>
							<Frame name="$parent_Icon">
								<Size>
									<AbsDimension x="80" y="80" />
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT">
										<Offset>
											<AbsDimension x="40" y="-20" />
										</Offset>
									</Anchor>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<Texture name="$parent_Texture" file="Interface\AddOns\ModifiedPowerAuras\images\dummy.tga">
											<Size>
												<AbsDimension x="80" y="80" />
											</Size>
										</Texture>
									</Layer>
								</Layers>
							</Frame>
							<Slider name="$parent_Slider_Opacity" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Icon" relativePoint="TOPRIGHT">
										<Offset>
											<AbsDimension x="30" y="-10" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_OPACITY_TOOLTIP
										this:SetMinMaxValues(0,1.0)
										this:SetValue(1.0)
										this:SetValueStep(0.1)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_OPACITY)
										getglobal(this:GetName().."Low"):SetText("0")
										getglobal(this:GetName().."High"):SetText("1.0")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED then
											MPowa_SliderChange("alpha", this, MPOWA_SLIDER_OPACITY)
										end
									</OnValueChanged>
								</Scripts>
							</Slider>
							<Slider name="$parent_Slider_PosX" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_Slider_Opacity" relativePoint="BOTTOM">
										<Offset>
											<AbsDimension x="0" y="-30" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_POSX_TOOLTIP
										this:SetMinMaxValues(-600,600)
										this:SetValue(0)
										this:SetValueStep(5)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_POSX)
										getglobal(this:GetName().."Low"):SetText(-600)
										getglobal(this:GetName().."High"):SetText(600)
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED and MPowa_ConfigFrame:IsVisible() then
											MPowa_SliderChange("x", this, MPOWA_SLIDER_POSX)

											local min, max = this:GetMinMaxValues()
											local value = this:GetValue()
											if value == min and SLIDER_POSX_MIN then
												if value ~= -600 then
													this:SetMinMaxValues(min-50,max-50)
													getglobal(this:GetName().."Low"):SetText(min-50)
													getglobal(this:GetName().."High"):SetText(max-50)
													SLIDER_POSX_MIN = false
												end
											elseif value == max then
												if value ~= 600 and SLIDER_POSX_MAX then
													this:SetMinMaxValues(min+50,max+50)
													getglobal(this:GetName().."Low"):SetText(min+50)
													getglobal(this:GetName().."High"):SetText(max+50)
													SLIDER_POSX_MAX = false
												end
											end
											if value == (max - 25) then
												SLIDER_POSX_MAX = true
											elseif value == (min + 25) then
												SLIDER_POSX_MIN = true
											end
										end
									</OnValueChanged>
									<OnMouseUp>
										SLIDER_POSX_MIN = true
										SLIDER_POSX_MAX = true
									</OnMouseUp>
								</Scripts>
							</Slider>
							<Slider name="$parent_Slider_PosY" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_Slider_PosX" relativePoint="BOTTOM">
										<Offset>
											<AbsDimension x="0" y="-30" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_POSY_TOOLTIP
										this:SetMinMaxValues(-600,600)
										this:SetValue(0)
										this:SetValueStep(5)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_POSY)
										getglobal(this:GetName().."Low"):SetText("-600")
										getglobal(this:GetName().."High"):SetText("600")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED and MPowa_ConfigFrame:IsVisible() then
											MPowa_SliderChange("y", this, MPOWA_SLIDER_POSY)
									
											local min, max = this:GetMinMaxValues()
											local value = this:GetValue()
											if value == min and SLIDER_POSY_MIN then
												if value ~= -600 then
													this:SetMinMaxValues(min-50,max-50)
													getglobal(this:GetName().."Low"):SetText(min-50)
													getglobal(this:GetName().."High"):SetText(max-50)
													SLIDER_POSY_MIN = false
												end
											elseif value == max then
												if value ~= 600 and SLIDER_POSY_MAX then
													this:SetMinMaxValues(min+50,max+50)
													getglobal(this:GetName().."Low"):SetText(min+50)
													getglobal(this:GetName().."High"):SetText(max+50)
													SLIDER_POSY_MAX = false
												end
											end
											if value == (max - 25) then
												SLIDER_POSY_MAX = true
											elseif value == (min + 25) then
												SLIDER_POSY_MIN = true
											end
										end
									</OnValueChanged>
									<OnMouseUp>
										SLIDER_POSY_MIN = true
										SLIDER_POSY_MAX = true
									</OnMouseUp>
								</Scripts>
							</Slider>
							<Slider name="$parent_Slider_Size" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="RIGHT" relativeTo="$parent_Slider_PosY" relativePoint="LEFT">
										<Offset>
											<AbsDimension x="-10" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_SIZE_TOOLTIP
										this:SetMinMaxValues(0.1,2.0)
										this:SetValue(1.0)
										this:SetValueStep(0.1)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_SIZE)
										getglobal(this:GetName().."Low"):SetText("0.1")
										getglobal(this:GetName().."High"):SetText("2.0")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED then
											MPowa_SliderChange("size", this, MPOWA_SLIDER_SIZE)
										end
									</OnValueChanged>
								</Scripts>
							</Slider>
						</Frames>
					</Frame>
					<Frame name="$parent_1_2">
						<Size>
							<AbsDimension x="290" y="170" />
						</Size>
						<Anchors>
							<Anchor point="TOP" relativeTo="$parent_1" relativePoint="BOTTOM" />
						</Anchors>
						<Frames>
							<EditBox name="$parent_Editbox" autoFocus="false" inherits="InputBoxTemplate">
								<Size>
									<AbsDimension x="270" y="16"/>
								</Size>
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent" relativePoint="TOP">
										<Offset>
											<AbsDimension x="0" y="-20"/>
										</Offset>
									</Anchor>
								</Anchors>
								<FontString inherits="ChatFontNormal" bytes="200"/>
								<Scripts>
									<OnLoad>
										this:SetMaxLetters(200)
										this.aide = MPOWA_EDITBOX_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_EDITBOX_NAME)
									</OnLoad>
									<OnEnterPressed>
										this:ClearFocus()
									</OnEnterPressed>
									<OnTextChanged>
										MPowa_Editbox_Name(this)
									</OnTextChanged>
									<OnEnter>
										GameTooltip:SetOwner(this, "ANCHOR_RIGHT")
										GameTooltip:SetText(this.aide, nil, nil, nil, nil, 1)
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide()
									</OnLeave>
								</Scripts>
								<Layers>
									<Layer level="OVERLAY">
										<FontString name="$parentText" inherits="GameFontNormalSmall" justifyH="LEFT" text="">
											<Size>
												<AbsDimension x="120" y="20"/>
											</Size>
											<Anchors>
												<Anchor point="BOTTOMLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
													<Offset>
														<AbsDimension x="0" y="0"/>
													</Offset>
												</Anchor>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
							</EditBox>
							<EditBox name="$parent_Editbox_Stacks" autoFocus="false" inherits="InputBoxTemplate">
								<Size>
									<AbsDimension x="65" y="16"/>
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Editbox" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="-20"/>
										</Offset>
									</Anchor>
								</Anchors>
								<FontString inherits="ChatFontNormal" bytes="200"/>
								<Scripts>
									<OnLoad>
										this:SetMaxLetters(200)
										this.aide = MPOWA_EDITBOX_STACKS_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_EDITBOX_STACKS_NAME)
									</OnLoad>
									<OnEnterPressed>
										this:ClearFocus()
									</OnEnterPressed>
									<OnEditFocusLost>
										MPowa_Editbox_Stacks(this)
									</OnEditFocusLost>
									<OnEnter>
										GameTooltip:SetOwner(this, "ANCHOR_RIGHT")
										GameTooltip:SetText(this.aide, nil, nil, nil, nil, 1)
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide()
									</OnLeave>
								</Scripts>
								<Layers>
									<Layer level="OVERLAY">
										<FontString name="$parentText" inherits="GameFontNormalSmall" justifyH="LEFT" text="">
											<Size>
												<AbsDimension x="120" y="20"/>
											</Size>
											<Anchors>
												<Anchor point="BOTTOMLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
													<Offset>
														<AbsDimension x="0" y="0"/>
													</Offset>
												</Anchor>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
							</EditBox>
							<EditBox name="$parent_Editbox_DebuffDuration" autoFocus="false" inherits="InputBoxTemplate">
								<Size>
									<AbsDimension x="65" y="16"/>
								</Size>
								<Anchors>
									<Anchor point="LEFT" relativeTo="$parent_Editbox_Stacks" relativePoint="RIGHT">
										<Offset>
											<AbsDimension x="10" y="0"/>
										</Offset>
									</Anchor>
								</Anchors>
								<FontString inherits="ChatFontNormal" bytes="200"/>
								<Scripts>
									<OnLoad>
										this:SetMaxLetters(200)
										this.aide = MPOWA_EDITBOX_DEBUFFDURATION_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_EDITBOX_DEBUFFDURATION)
									</OnLoad>
									<OnEnterPressed>
										this:ClearFocus()
									</OnEnterPressed>
									<OnTextChanged>
										MPowa_Editbox_Duration(this)
									</OnTextChanged>
									<OnEnter>
										GameTooltip:SetOwner(this, "ANCHOR_RIGHT")
										GameTooltip:SetText(this.aide, nil, nil, nil, nil, 1)
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide()
									</OnLeave>
								</Scripts>
								<Layers>
									<Layer level="OVERLAY">
										<FontString name="$parentText" inherits="GameFontNormalSmall" justifyH="LEFT" text="">
											<Size>
												<AbsDimension x="120" y="20"/>
											</Size>
											<Anchors>
												<Anchor point="BOTTOMLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
													<Offset>
														<AbsDimension x="0" y="0"/>
													</Offset>
												</Anchor>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
							</EditBox>
							<CheckButton name="$parent_Checkbutton_ShowIfNotActive" inherits="MPowa_CheckTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Editbox" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="-10" y="-45" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.tooltipText = MPOWA_CHECKBUTTON_SHOWIFNOTACTIVE_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_SHOWIFNOTACTIVE)
									</OnLoad>
									<OnClick>
										MPowa_Checkbutton("inverse")
									</OnClick>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_ShowCooldowns" inherits="MPowa_CheckTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_ShowIfNotActive" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="8" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.tooltipText = MPOWA_CHECKBUTTON_SHOWCOOLDOWN_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_SHOWCOOLDOWN)
									</OnLoad>
									<OnClick>
										MPowa_Checkbutton("cooldown")
									</OnClick>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_Timer" inherits="MPowa_CheckTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_ShowCooldowns" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="8" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.tooltipText = MPOWA_CHECKBUTTON_TIMER_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_TIMER)
									</OnLoad>
									<OnClick>
										MPowa_Checkbutton("timer")
									</OnClick>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_EnemyTarget" inherits="MPowa_CheckTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_ShowCooldowns" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="-16" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.tooltipText = MPOWA_CHECKBUTTON_ENEMYTARGET_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_ENEMYTARGET)
									</OnLoad>
									<OnClick>
										MPowa_Checkbutton("enemytarget")
										if MPowa_ConfigFrame_Container_1_2_Checkbutton_Debuff:GetChecked() or MPowa_ConfigFrame_Container_1_2_Checkbutton_EnemyTarget:GetChecked() or MPowa_ConfigFrame_Container_1_2_Checkbutton_FriendlyTarget:GetChecked() then
											MPowa_ConfigFrame_Container_1_2_Editbox_DebuffDuration:Show()
										else
											MPowa_ConfigFrame_Container_1_2_Editbox_DebuffDuration:Hide()
										end
									</OnClick>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_FriendlyTarget" inherits="MPowa_CheckTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_EnemyTarget" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="8" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.tooltipText = MPOWA_CHECKBUTTON_FRIENDLYTARGET_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_FRIENDLYTARGET)
									</OnLoad>
									<OnClick>
										MPowa_Checkbutton("friendlytarget")
										if MPowa_ConfigFrame_Container_1_2_Checkbutton_Debuff:GetChecked() or MPowa_ConfigFrame_Container_1_2_Checkbutton_EnemyTarget:GetChecked() or MPowa_ConfigFrame_Container_1_2_Checkbutton_FriendlyTarget:GetChecked() then
											MPowa_ConfigFrame_Container_1_2_Editbox_DebuffDuration:Show()
										else
											MPowa_ConfigFrame_Container_1_2_Editbox_DebuffDuration:Hide()
										end
									</OnClick>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_Debuff" inherits="MPowa_CheckTemplate">
								<Anchors>
									<Anchor point="LEFT" relativeTo="$parent_Checkbutton_ShowIfNotActive" relativePoint="RIGHT">
										<Offset>
											<AbsDimension x="130" y="35" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.tooltipText = MPOWA_CHECKBUTTON_DEBUFF_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_DEBUFF)
									</OnLoad>
									<OnClick>
										MPowa_Checkbutton("isdebuff")
										if MPowa_ConfigFrame_Container_1_2_Checkbutton_Debuff:GetChecked() or MPowa_ConfigFrame_Container_1_2_Checkbutton_EnemyTarget:GetChecked() or MPowa_ConfigFrame_Container_1_2_Checkbutton_FriendlyTarget:GetChecked() then
											MPowa_ConfigFrame_Container_1_2_Editbox_DebuffDuration:Show()
										else
											MPowa_ConfigFrame_Container_1_2_Editbox_DebuffDuration:Hide()
										end
									</OnClick>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_Alive" inherits="MPowaTernarySelectorTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_Debuff" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="8" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.var = "alive"
										this.tooltipText = MPOWA_CHECKBUTTON_ALIVE_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_ALIVE)
									</OnLoad>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_Mounted" inherits="MPowaTernarySelectorTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_Alive" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="8" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.var = "mounted"
										this.tooltipText = MPOWA_CHECKBUTTON_MOUNTED_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_MOUNTED)
									</OnLoad>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_InCombat" inherits="MPowaTernarySelectorTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_Mounted" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.var = "incombat"
										this.tooltipText = MPOWA_CHECKBUTTON_INCOMBAT_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_INCOMBAT)
									</OnLoad>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_InParty" inherits="MPowaTernarySelectorTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_InCombat" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="8" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.var = "inparty"
										this.tooltipText = MPOWA_CHECKBUTTON_INPARTY_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_INPARTY)
									</OnLoad>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_InRaid" inherits="MPowaTernarySelectorTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_InParty" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="8" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.var = "inraid"
										this.tooltipText = MPOWA_CHECKBUTTON_INRAID_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_INRAID)
									</OnLoad>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_InBattleground" inherits="MPowaTernarySelectorTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_InRaid" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="8" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.var = "inbattleground"
										this.tooltipText = MPOWA_CHECKBUTTON_ISBATTLEGROUND_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_ISBATTLEGROUND)
									</OnLoad>
								</Scripts>
							</CheckButton>
						</Frames>
					</Frame>
					<Frame name="$parent_2" inherits="MPowa_ContainerTemplate" hidden="true">
						<Size>
							<AbsDimension x="290" y="170" />
						</Size>
						<Frames>
							<Frame name="$parent_Icon">
								<Size>
									<AbsDimension x="80" y="80" />
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT">
										<Offset>
											<AbsDimension x="40" y="-20" />
										</Offset>
									</Anchor>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<FontString name="$parent_Font" inherits="NumberFontNormal" text="10:22">
											<Anchors>
												<Anchor point="CENTER" />
											</Anchors>
											<Size>
												<AbsDimension x="40" y="15" />
											</Size>
										</FontString>
									</Layer>
								</Layers>
							</Frame>
							<Slider name="$parent_Slider_Opacity" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Icon" relativePoint="TOPRIGHT">
										<Offset>
											<AbsDimension x="30" y="-10" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_OPACITY_TOOLTIP
										this:SetMinMaxValues(0,1.0)
										this:SetValue(1.0)
										this:SetValueStep(0.1)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_OPACITY)
										getglobal(this:GetName().."Low"):SetText("0")
										getglobal(this:GetName().."High"):SetText("1.0")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED then
											MPowa_SliderChange("fontalpha", this, MPOWA_SLIDER_OPACITY)
										end
									</OnValueChanged>
								</Scripts>
							</Slider>
							<Slider name="$parent_Slider_PosX" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_Slider_Opacity" relativePoint="BOTTOM">
										<Offset>
											<AbsDimension x="0" y="-30" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_POSX_TOOLTIP
										this:SetMinMaxValues(-600,600)
										this:SetValue(0)
										this:SetValueStep(5)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_POSX)
										getglobal(this:GetName().."Low"):SetText(-600)
										getglobal(this:GetName().."High"):SetText(600)
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED and MPowa_ConfigFrame:IsVisible() then
											MPowa_SliderChange("fontoffsetx", this, MPOWA_SLIDER_POSX)

											local min, max = this:GetMinMaxValues()
											local value = this:GetValue()
											if value == min and SLIDER_OFFSETX_MIN then
												if value ~= -600 then
													this:SetMinMaxValues(min-50,max-50)
													getglobal(this:GetName().."Low"):SetText(min-50)
													getglobal(this:GetName().."High"):SetText(max-50)
													SLIDER_OFFSETX_MIN = false
												end
											elseif value == max then
												if value ~= 600 and SLIDER_OFFSETX_MAX then
													this:SetMinMaxValues(min+50,max+50)
													getglobal(this:GetName().."Low"):SetText(min+50)
													getglobal(this:GetName().."High"):SetText(max+50)
													SLIDER_OFFSETX_MAX = false
												end
											end
											if value == (max - 25) then
												SLIDER_OFFSETX_MAX = true
											elseif value == (min + 25) then
												SLIDER_OFFSETX_MIN = true
											end
										end
									</OnValueChanged>
									<OnMouseUp>
										SLIDER_OFFSETX_MIN = true
										SLIDER_OFFSETX_MAX = true
									</OnMouseUp>
								</Scripts>
							</Slider>
							<Slider name="$parent_Slider_PosY" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="$parent_Slider_PosX" relativePoint="BOTTOM">
										<Offset>
											<AbsDimension x="0" y="-30" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_POSY_TOOLTIP
										this:SetMinMaxValues(-600,600)
										this:SetValue(0)
										this:SetValueStep(5)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_POSY)
										getglobal(this:GetName().."Low"):SetText("-600")
										getglobal(this:GetName().."High"):SetText("600")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED and MPowa_ConfigFrame:IsVisible() then
											MPowa_SliderChange("fontoffsety", this, MPOWA_SLIDER_POSY)
									
											local min, max = this:GetMinMaxValues()
											local value = this:GetValue()
											if value == min and SLIDER_OFFSETY_MIN then
												if value ~= -600 then
													this:SetMinMaxValues(min-50,max-50)
													getglobal(this:GetName().."Low"):SetText(min-50)
													getglobal(this:GetName().."High"):SetText(max-50)
													SLIDER_OFFSETY_MIN = false
												end
											elseif value == max then
												if value ~= 600 and SLIDER_OFFSETY_MAX then
													this:SetMinMaxValues(min+50,max+50)
													getglobal(this:GetName().."Low"):SetText(min+50)
													getglobal(this:GetName().."High"):SetText(max+50)
													SLIDER_OFFSETY_MAX = false
												end
											end
											if value == (max - 25) then
												SLIDER_OFFSETY_MAX = true
											elseif value == (min + 25) then
												SLIDER_OFFSETY_MIN = true
											end
										end
									</OnValueChanged>
									<OnMouseUp>
										SLIDER_OFFSETY_MIN = true
										SLIDER_OFFSETY_MAX = true
									</OnMouseUp>
								</Scripts>
							</Slider>
							<Slider name="$parent_Slider_Size" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="RIGHT" relativeTo="$parent_Slider_PosY" relativePoint="LEFT">
										<Offset>
											<AbsDimension x="-10" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_SIZE_TOOLTIP
										this:SetMinMaxValues(0.1,2.0)
										this:SetValue(1.0)
										this:SetValueStep(0.1)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_SIZE)
										getglobal(this:GetName().."Low"):SetText("0.1")
										getglobal(this:GetName().."High"):SetText("2.0")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED then
											MPowa_SliderChange("fontsize", this, MPOWA_SLIDER_SIZE)
										end
									</OnValueChanged>
								</Scripts>
							</Slider>
						</Frames>
					</Frame>
					<Frame name="$parent_2_2" hidden="true">
						<Size>
							<AbsDimension x="290" y="170" />
						</Size>
						<Anchors>
							<Anchor point="TOP" relativeTo="$parent_2" relativePoint="BOTTOM" />
						</Anchors>
						<Frames>
							<CheckButton name="$parent_Checkbutton_Hundreds" inherits="MPowa_CheckTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
										<Offset>
											<AbsDimension x="0" y="-10" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.tooltipText = MPOWA_CHECKBUTTON_HUNDREDS_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_HUNDREDS)
									</OnLoad>
									<OnClick>
										MPowa_Checkbutton("hundredth")
									</OnClick>
								</Scripts>
							</CheckButton>
							<CheckButton name="$parent_Checkbutton_Color" inherits="MPowa_CheckTemplate">
								<Anchors>
									<Anchor point="LEFT" relativeTo="$parent_Checkbutton_Hundreds" relativePoint="RIGHT">
										<Offset>
											<AbsDimension x="130" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.tooltipText = MPOWA_CHECKBUTTON_COLOR_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_COLOR)
									</OnLoad>
									<OnClick>
										MPowa_Checkbutton_USEFONTCOLOR()
									</OnClick>
								</Scripts>
							</CheckButton>
							<Button name="$parent_Colorpicker">
								<Size>
									<AbsDimension x="16" y="16"/>
								</Size>
								<Anchors>
									<Anchor point="LEFT" relativeTo="$parent_Checkbutton_Color" relativePoint="RIGHT">
										<Offset>
											<AbsDimension x="80" y="0"/>
										</Offset>
									</Anchor>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<Texture name="$parent_SwatchBg">
											<Size>
												<AbsDimension x="14" y="14"/>
											</Size>
											<Anchors>
												<Anchor point="CENTER">
													<Offset>
														<AbsDimension x="0" y="0"/>
													</Offset>
												</Anchor>
											</Anchors>
											<Color r="1.0" g="1.0" b="1.0"/>
										</Texture>
									</Layer>
								</Layers>
								<Scripts>
									<OnLoad>
										getglobal(this:GetName().."_SwatchBg").r = 1.0
										getglobal(this:GetName().."_SwatchBg").g = 1.0
										getglobal(this:GetName().."_SwatchBg").b = 1.0
									</OnLoad>
									<OnClick>
										MPowa_OpenColorPicker()
									</OnClick>
									<OnEnter>
										getglobal(this:GetName().."_SwatchBg"):SetVertexColor(NORMAL_FONT_COLOR.r, NORMAL_FONT_COLOR.g, NORMAL_FONT_COLOR.b)
										GameTooltip:SetOwner(this, "ANCHOR_RIGHT")
										GameTooltip:SetText(PowaText.aideColor, nil, nil, nil, nil, 1)
									</OnEnter>
									<OnLeave>
										getglobal(this:GetName().."_SwatchBg"):SetVertexColor(HIGHLIGHT_FONT_COLOR.r, HIGHLIGHT_FONT_COLOR.g, HIGHLIGHT_FONT_COLOR.b)
										GameTooltip:Hide()
									</OnLeave>
								</Scripts>
								<NormalTexture name="$parentNormalTexture" file="Interface\ChatFrame\ChatFrameColorSwatch"/>
							</Button>
						</Frames>
					</Frame>
					<Frame name="$parent_3" hidden="true" inherits="MPowa_ContainerTemplate">
						<Size>
							<AbsDimension x="290" y="180" />
						</Size>
						<Frames>
							<CheckButton name="$parent_Checkbutton_BeginSound" inherits="MPowa_CheckTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
										<Offset>
											<AbsDimension x="10" y="-10" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.tooltipText = MPOWA_CHECKBUTTON_BEGINSOUND_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_BEGINSOUND)
									</OnLoad>
									<OnClick>
										MPowa_Checkbutton("usebeginsound")
									</OnClick>
								</Scripts>
							</CheckButton>
							<Slider name="$parent_Slider_BeginSound" inherits="MPowa_SliderTemplate">
								<Size>
									<AbsDimension x="270" y="16" />
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_BeginSound" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="-15" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_BEGINSOUND_TOOLTIP
										this:SetMinMaxValues(1,56)
										this:SetValue(1)
										this:SetValueStep(1)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_BEGINSOUND)
										getglobal(this:GetName().."Low"):SetText("1")
										getglobal(this:GetName().."High"):SetText("56")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED then
											MPowa_SoundSliderChange(this, "beginsound")
										end
									</OnValueChanged>
								</Scripts>
							</Slider>
							<CheckButton name="$parent_Checkbutton_EndSound" inherits="MPowa_CheckTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Slider_BeginSound" relativePoint="TOPLEFT">
										<Offset>
											<AbsDimension x="0" y="-50" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.tooltipText = MPOWA_CHECKBUTTON_ENDSOUND_TOOLTIP
										getglobal(this:GetName().."Text"):SetText(MPOWA_CHECKBUTTON_ENDSOUND)
									</OnLoad>
									<OnClick>
										MPowa_Checkbutton("useendsound")
									</OnClick>
								</Scripts>
							</CheckButton>
							<Slider name="$parent_Slider_EndSound" inherits="MPowa_SliderTemplate">
								<Size>
									<AbsDimension x="270" y="16" />
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Checkbutton_EndSound" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="-15" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_ENDSOUND_TOOLTIP
										this:SetMinMaxValues(1,56)
										this:SetValue(1)
										this:SetValueStep(1)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_ENDSOUND)
										getglobal(this:GetName().."Low"):SetText("1")
										getglobal(this:GetName().."High"):SetText("56")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED then
											MPowa_SoundSliderChange(this, "endsound")
										end
									</OnValueChanged>
								</Scripts>
							</Slider>
						</Frames>
					</Frame>
					<Frame name="$parent_4" inherits="MPowa_ContainerTemplate" hidden="true">
						<Size>
							<AbsDimension x="290" y="110" />
						</Size>
						<Frames>
							<Slider name="$parent_Slider_SecAnim1" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
										<Offset>
											<AbsDimension x="15" y="-25" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_SECANIM_TOOLTIP
										this:SetMinMaxValues(1,20)
										this:SetValue(1)
										this:SetValueStep(1)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_SECANIM)
										getglobal(this:GetName().."Low"):SetText("1")
										getglobal(this:GetName().."High"):SetText("20")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED then
										end
									</OnValueChanged>
								</Scripts>
							</Slider>
							<Slider name="$parent_Slider_SecAnim2" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="LEFT" relativeTo="$parent_Slider_SecAnim1" relativePoint="RIGHT">
										<Offset>
											<AbsDimension x="20" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_SECANIM_TOOLTIP
										this:SetMinMaxValues(1,20)
										this:SetValue(1)
										this:SetValueStep(1)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_SECANIM)
										getglobal(this:GetName().."Low"):SetText("1")
										getglobal(this:GetName().."High"):SetText("20")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED then
										end
									</OnValueChanged>
								</Scripts>
							</Slider>
							<Slider name="$parent_Slider_AnimSpeed" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativeTo="$parent_Slider_SecAnim1" relativePoint="BOTTOMLEFT">
										<Offset>
											<AbsDimension x="0" y="-30" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_ANIMSPEED_TOOLTIP
										this:SetMinMaxValues(1,20)
										this:SetValue(1)
										this:SetValueStep(1)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_ANIMSPEED)
										getglobal(this:GetName().."Low"):SetText("1")
										getglobal(this:GetName().."High"):SetText("20")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED then
										end
									</OnValueChanged>
								</Scripts>
							</Slider>
							<Slider name="$parent_Slider_AnimDuration" inherits="MPowa_SliderTemplate">
								<Anchors>
									<Anchor point="LEFT" relativeTo="$parent_Slider_AnimSpeed" relativePoint="RIGHT">
										<Offset>
											<AbsDimension x="20" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										this.aide = MPOWA_SLIDER_ANIMDURATION_TOOLTIP
										this:SetMinMaxValues(1,20)
										this:SetValue(1)
										this:SetValueStep(1)
										getglobal(this:GetName().."Text"):SetText(MPOWA_SLIDER_ANIMDURATION)
										getglobal(this:GetName().."Low"):SetText("1")
										getglobal(this:GetName().."High"):SetText("20")
									</OnLoad>
									<OnValueChanged>
										if MPOWA_LOADED then
										end
									</OnValueChanged>
								</Scripts>
							</Slider>
						</Frames>
					</Frame>
				</Frames>
			</Frame>
			<Button name="$parent_Tab1" inherits="TabButtonTemplate">
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeTo="$parent_Container" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="5" y="-2" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PanelTemplates_SelectTab(this)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab2)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab3)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab4)
						MPowa_ConfigFrame_Container_2:Hide()
						MPowa_ConfigFrame_Container_2_2:Hide()
						MPowa_ConfigFrame_Container_3:Hide()
						MPowa_ConfigFrame_Container_4:Hide()
						MPowa_ConfigFrame_Container_1:Show()
						MPowa_ConfigFrame_Container_1_2:Show()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."Text"):SetText(MPOWA_CONFIGFRAME_EFFECT_EDITOR)
						PanelTemplates_SelectTab(this)
						PanelTemplates_TabResize(0, this)
						getglobal(this:GetName().."HighlightTexture"):SetWidth(this:GetTextWidth() + 31)
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="$parent_Tab2" inherits="TabButtonTemplate">
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parent_Tab1" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PanelTemplates_SelectTab(this)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab1)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab3)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab4)
						MPowa_ConfigFrame_Container_1:Hide()
						MPowa_ConfigFrame_Container_1_2:Hide()
						MPowa_ConfigFrame_Container_3:Hide()
						MPowa_ConfigFrame_Container_4:Hide()
						MPowa_ConfigFrame_Container_2:Show()
						MPowa_ConfigFrame_Container_2_2:Show()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."Text"):SetText(MPOWA_CONFIGFRAME_TIMER_EDITOR)
						PanelTemplates_DeselectTab(this)
						PanelTemplates_TabResize(0, this)
						getglobal(this:GetName().."HighlightTexture"):SetWidth(this:GetTextWidth() + 31)
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="$parent_Tab3" inherits="TabButtonTemplate">
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parent_Tab2" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PanelTemplates_SelectTab(this)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab4)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab1)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab2)
						MPowa_ConfigFrame_Container_1:Hide()
						MPowa_ConfigFrame_Container_1_2:Hide()
						MPowa_ConfigFrame_Container_2:Hide()
						MPowa_ConfigFrame_Container_2_2:Hide()
						MPowa_ConfigFrame_Container_3:Show()
						MPowa_ConfigFrame_Container_4:Hide()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."Text"):SetText(MPOWA_CONFIGFRAME_SOUND_EDITOR)
						PanelTemplates_DeselectTab(this)
						PanelTemplates_TabResize(0, this)
						getglobal(this:GetName().."HighlightTexture"):SetWidth(this:GetTextWidth() + 31)
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="$parent_Tab4" inherits="TabButtonTemplate">
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parent_Tab3" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PanelTemplates_SelectTab(this)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab1)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab2)
						PanelTemplates_DeselectTab(MPowa_ConfigFrame_Tab3)
						MPowa_ConfigFrame_Container_1:Hide()
						MPowa_ConfigFrame_Container_1_2:Hide()
						MPowa_ConfigFrame_Container_2:Hide()
						MPowa_ConfigFrame_Container_2_2:Hide()
						MPowa_ConfigFrame_Container_3:Hide()
						MPowa_ConfigFrame_Container_4:Show()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."Text"):SetText(MPOWA_CONFIGFRAME_ANIMATION_EDITOR)
						PanelTemplates_DeselectTab(this)
						PanelTemplates_TabResize(0, this)
						getglobal(this:GetName().."HighlightTexture"):SetWidth(this:GetTextWidth() + 31)
					</OnLoad>
				</Scripts>
			</Button>
		</Frames>
	</Frame>
	
	---------------------------------------------PROFILE FRAME---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	
	<Frame name="MPowa_ProfileFrame" movable="true" parent="MPowa_MainFrame" frameStrata="HIGH" hidden="true" enableMouse="true" enableKeyboard="true">
		<Size>
			<AbsDimension x="321" y="430" />
		</Size>
		<Anchors>
			<Anchor point="LEFT" relativeTo="MPowa_MainFrame" relativePoint="RIGHT" />
        </Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
        </Backdrop>
		<Layers>
			<Layer>
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="225" y="32" />
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="8" />
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0.2" right="0.8" top="0" bottom="0.6" />
				</Texture>	
				<FontString name="$parent_HEAD" inherits="GameFontNormalSmall">
					<Size>
						<AbsDimension x="225" y="0" />
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-3" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				getglobal(this:GetName().."_HEAD"):SetText(MPOWA_PROFILEFRAME_NAME)
			</OnLoad>
			<OnShow>
				MPowa_ScrollFrame_Update()
			</OnShow>
		</Scripts>
		<Frames>
			<Button name="$parent_CloseButton" inherits="MPowa_CloseButtonTemplate">
				<Scripts>
					<OnClick>
						MPowa_ProfileFrame:Hide()
						PlaySound("igMainMenuOptionCheckBoxOff")
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_Import" inherits="MPowa_MainFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="40" y="-35" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						MPowa_Import()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."_Text"):SetText(MPOWA_BUTTON_IMPORT)
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="$parent_Save" inherits="MPowa_MainFrameButtonTemplate">
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parent_Import" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="45" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						MPowa_ProfileSave()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."_Text"):SetText(MPOWA_BUTTON_SAVE)
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="$parent_Remove" inherits="MPowa_MainFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOP" relativeTo="$parent_Save" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						MPowa_ProfileRemove()
					</OnClick>
					<OnLoad>
						getglobal(this:GetName().."_Text"):SetText(MPOWA_BUTTON_REMOVE)
					</OnLoad>
				</Scripts>
			</Button>
			<ScrollFrame name="$parent_ScrollFrame" inherits="FauxScrollFrameTemplate">
				<Size>
					<AbsDimension x="265" y="285" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeTo="$parent">
						<Offset>
							<AbsDimension x="20" y="15" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnVerticalScroll>
						FauxScrollFrame_OnVerticalScroll(40, MPowa_ScrollFrame_Update) 
					</OnVerticalScroll>
					<OnShow>
						MPOWA_PROFILE_SELECTED = 1
						getglobal(this:GetName().."_Button1_BG"):SetAlpha(0.5)
						MPowa_ScrollFrame_Update()
					</OnShow>
				</Scripts>
			</ScrollFrame>
			<Button name="$parent_ScrollFrame_Button1" inherits="MPowa_ScrollFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent_ScrollFrame" relativePoint="TOPLEFT" />
				</Anchors>
			</Button>
			<Button name="$parent_ScrollFrame_Button2" inherits="MPowa_ScrollFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent_ScrollFrame_Button1" relativePoint="BOTTOMLEFT" />
				</Anchors>
			</Button>
			<Button name="$parent_ScrollFrame_Button3" inherits="MPowa_ScrollFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent_ScrollFrame_Button2" relativePoint="BOTTOMLEFT" />
				</Anchors>
			</Button>
			<Button name="$parent_ScrollFrame_Button4" inherits="MPowa_ScrollFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent_ScrollFrame_Button3" relativePoint="BOTTOMLEFT" />
				</Anchors>
			</Button>
			<Button name="$parent_ScrollFrame_Button5" inherits="MPowa_ScrollFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent_ScrollFrame_Button4" relativePoint="BOTTOMLEFT" />
				</Anchors>
			</Button>
			<Button name="$parent_ScrollFrame_Button6" inherits="MPowa_ScrollFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent_ScrollFrame_Button5" relativePoint="BOTTOMLEFT" />
				</Anchors>
			</Button>
			<Button name="$parent_ScrollFrame_Button7" inherits="MPowa_ScrollFrameButtonTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent_ScrollFrame_Button6" relativePoint="BOTTOMLEFT" />
				</Anchors>
			</Button>
		</Frames>
	</Frame>
	
</Ui>